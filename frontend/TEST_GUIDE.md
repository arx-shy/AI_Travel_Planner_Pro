# 前端测试指南

## ✅ 后端服务状态

后端服务正常运行在 `http://localhost:8000`

最近测试记录：
- ✅ 用户认证成功 (test@wanderflow.com)
- ✅ 创建行程成功 (行程ID: 57)
- ✅ 生成详细行程成功 (包含完整V2数据)

## 🌐 前端访问

1. **打开浏览器访问**: http://localhost:3000

2. **首次访问会看到登录提示页面**

## 🔑 登录方式

### 方式1: 快速登录（推荐）

点击页面上的 **"快速登录（测试账号）"** 按钮

- 邮箱: `test@wanderflow.com`
- 密码: `test123456`

### 方式2: 手动登录

1. 点击 **"前往登录页"**
2. 输入邮箱: `test@wanderflow.com`
3. 输入密码: `test123456`
4. 点击 **"立即登录"**

或点击 **"游客登录（免输入）"** 快速登录

## 📝 创建行程测试

登录成功后，在规划页面：

1. **填写行程信息**：
   - 目的地: `成都`
   - 天数: `3`
   - 预算: `3500`
   - 旅行风格: `休闲放松`

2. **点击"生成行程"按钮**

3. **等待AI生成**：
   - 首先创建基础行程（2-3秒）
   - 然后自动生成详细行程（30-60秒）
   - 会显示加载动画："AI正在为您规划行程"

4. **查看结果**：
   - 基础行程创建后会显示："行程创建成功！AI正在生成详细行程..."
   - 详细行程生成后会显示："完整行程已生成！请查看详细信息"

## 📊 数据展示验证

生成成功后，点击 **"查看详情"** 按钮，应该看到：

### 1. 折叠状态（默认）
4个统计卡片：
- 📍 目的地：成都
- 📅 天数：3 天
- 💰 预算：¥3500
- ✅ 状态：进行中

### 2. 展开状态

#### 📍 行程概览面板
- ✅ 摘要文字
- ✅ 4个亮点卡片
- ✅ 费用对比（预算/预计花费/节省）
- ✅ 最佳季节
- ✅ 天气提示

#### 🎒 行前准备面板
- ✅ 必备证件（标签形式）
- ✅ 必备物品（标签形式）
- ✅ 预订提醒（列表形式）

#### 📅 每日行程面板
- ✅ 第1天标题和活动数
- ✅ 第2天标题和活动数
- ✅ 第3天标题和活动数

每项活动包括：
- 时间和时长
- 标题和类型
- 活动描述
- 亮点（景点）
- 门票信息
- 菜品推荐（餐饮）
- 实用提示
- 交通信息

#### 💡 实用提示面板
- ✅ 交通提示卡片
- ✅ 住宿提示卡片
- ✅ 餐饮提示卡片
- ✅ 购物提示卡片
- ✅ 安全提示卡片

## 🎨 颜色编码验证

不同活动类型有不同颜色：
- 🟢 景点 (绿色)
- 🟠 餐饮 (橙色)
- 🔵 交通 (蓝色)
- 🟣 住宿 (紫色)
- 🩷 购物 (粉色)
- 🟡 娱乐 (黄色)

## ⚠️ 可能的错误

### 错误1: 403 Forbidden
**原因**: 未登录或token过期
**解决**: 点击"快速登录"重新登录

### 错误2: 500 Internal Server Error
**原因**: 后端服务异常
**解决**: 检查后端日志，确保后端服务正在运行

### 错误3: 创建行程失败
**原因**: API路径错误或认证失败
**解决**: 已修复API路径，确保使用最新代码

## 🔍 浏览器控制台调试

打开浏览器开发者工具（F12），查看：

### Network 标签
- 查看API请求和响应
- 确认状态码为 200 或 201
- 检查响应数据结构

### Console 标签
- 查看API请求拦截日志
- 查看错误信息
- 验证token是否正确附加

## 📱 测试流程

```
1. 访问 http://localhost:3000
   ↓
2. 看到"需要登录"提示
   ↓
3. 点击"快速登录（测试账号）"
   ↓
4. 登录成功，进入规划页面
   ↓
5. 填写：成都、3天、¥3500、休闲放松
   ↓
6. 点击"生成行程"
   ↓
7. 等待30-60秒，AI生成完成
   ↓
8. 看到成功提示
   ↓
9. 点击"查看详情"
   ↓
10. 验证所有面板和数据
```

## ✅ 成功标志

- ✅ 登录成功后侧边栏显示用户名
- ✅ 点击生成后显示加载动画
- ✅ 显示成功提示消息
- ✅ 行程卡片正常显示
- ✅ 点击查看详情后展开所有面板
- ✅ 所有V2字段数据完整

## 📞 如遇问题

1. 检查后端服务是否运行：http://localhost:8000/docs
2. 检查前端服务是否运行：http://localhost:3000
3. 清除浏览器缓存和localStorage
4. 刷新页面重试

---

**测试账号**:
- 邮箱: `test@wanderflow.com`
- 密码: `test123456`

**服务地址**:
- 后端: http://localhost:8000
- 前端: http://localhost:3000
- API文档: http://localhost:8000/docs
